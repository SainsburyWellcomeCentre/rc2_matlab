Use MATLAB 2021a or newer version

User file path
Vis stim PC -- 'C:\Users\yyao\Documents\MATLAB\Themepark-RC2 code\VisualStimuli\visual_stimuli\user\yyao_DoubleRotation'
NIDAQ PC -- 'C:\Users\Margrie_Lab1\Documents\repos\swc\rc2_matlab\rc\user\yyao_DoubleRotation'

Data file path
Vis stim PC -- 'C:\Users\Margrie_Lab1\Documents\raw_data'
NIDAQ PC -- 'C:\Users\Margrie_Lab1\Documents\raw_data'


1. To start-up, 
   on Vis stim PC, run
	>> theme_park_vis_stim = ThemeParkVisualStimulusPC();   % connect the 2 PCs
   on NIDAQ PC, run
	>> RC2_DoubleRotation_startup();   % start RC2 interface

2. To run experiment, 
   on RC2 interface, 
	select protocol file on the Experiment panel in folder 'Protocols'
	input Animal ID# & Session#
	click 'Start Experiment' button on the Experiment panel

3. If there are connection issues try the following on vis stim PC.
	>> theme_park_vis_stim.reset_tcp_servers();
	>> theme_park_vis_stim.is_running = false;

4. To exit, 
   on NIDAQ PC, run
	>> RC2_DoubleRotation_shutdown();
   on Vis stim PC, run
	>> clear;

If IP errors occur, modify the IP address in the RC2_DoubleRotation_startup.m file

